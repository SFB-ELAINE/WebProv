(function(t){function e(e){for(var o,a,l=e[0],c=e[1],s=e[2],u=0,f=[];u<l.length;u++)a=l[u],i[a]&&f.push(i[a][0]),i[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);d&&d(e);while(f.length)f.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,l=1;l<n.length;l++){var c=n[l];0!==i[c]&&(o=!1)}o&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},i={app:0},r=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/WebProv/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var s=0;s<l.length;s++)e(l[s]);var d=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"25c2":function(t,e,n){},"36e4":function(t,e,n){"use strict";var o=n("5bc8"),i=n.n(o);i.a},"4ca6":function(t,e,n){},"5bc8":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var o=n("5e27"),i=n.n(o);i.a},"5e27":function(t,e,n){},"76f6":function(t,e,n){"use strict";var o=n("789d"),i=n.n(o);i.a},"787a":function(t,e,n){},"789d":function(t,e,n){},"7a62":function(t,e,n){},8796:function(t,e,n){"use strict";var o=n("787a"),i=n.n(o);i.a},ac20:function(t,e,n){"use strict";var o=n("25c2"),i=n.n(o);i.a},bf7e:function(t,e,n){"use strict";var o=n("e1a0"),i=n.n(o);i.a},cd49:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],a=o["default"].extend({}),l=a,c=(n("5c0b"),n("2877")),s=Object(c["a"])(l,i,r,!1,null,null,null),d=s.exports,u=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("d3",{attrs:{height:t.height,width:t.width,links:t.links,nodes:t.nodes,force:"",arrows:"",hulls:"","node-click":t.nodeClick,"node-dblclick":t.nodeDblclick,"hull-dblclick":t.hullDblclick,"action-click":t.actionClick}}),n("div",{staticClass:"overlay"},[n("search",{staticClass:"search overlay-child",attrs:{results:t.results},on:{search:t.search,clear:t.removeResults,open:t.openResult,dependency:t.showProvenanceGraph}}),n("div",{staticStyle:{flex:"1"}}),n("b-button",{staticClass:"clear-button overlay-child",attrs:{type:"is-text"},on:{click:t.clearNodes}},[t._v("\n      Reset\n    ")]),n("div",{staticClass:"cards overlay-child"},[n("prov-legend",{attrs:{"node-radius":t.nodeRadius,"node-outline":t.nodeOutline}}),n("div",{staticClass:"spacer"}),t.informationFields?n("information-card",{attrs:{"information-fields":t.informationFields}}):t._e()],1)],1)],1)},h=[],p=n("768b"),y=(n("456d"),n("8615"),n("ac6a"),n("d225")),v=n("b0b4"),b=n("308d"),m=n("6bb5"),g=n("4e2b"),k=n("9ab4"),x={id:7,modelId:1,name:"Wx_7",type:"wet-lab data",information:{"Cell line":"Xenopus egg extract"}},w={id:8,modelId:1,name:"W1_1",type:"wet-lab data",information:{"Cell line":"Xenopus egg extract"}},O={id:9,modelId:1,name:"W1_2",type:"wet-lab data",information:{"Cell line":"Xenopus egg extract"}},j={id:3,modelId:1,type:"model-building-activity",wetLabsUsedForCalibration:[x,w],wetLabsUsedForValidation:[O],simulationsUsedForCalibration:[],simulationsUsedForValidation:[],used:[]},C={id:3,modelId:1,type:"simulation data",name:"S1_1",wasGeneratedByModelBuildingActivity:j,wasGeneratedByModelExplorationActivity:null},_={id:2,modelNumber:1,bibInformation:"Lee et al., PLoS bio. 2003"},N={id:3,modelId:1,type:"model",modelInformation:_,version:2,wasGeneratedBy:j,derivedFrom:null},I={id:1,modelId:1,type:"model exploration activity",used:N},L={id:4,modelId:1,type:"simulation data",name:"S1_2",wasGeneratedByModelBuildingActivity:null,wasGeneratedByModelExplorationActivity:I},S={id:1,modelNumber:12,bibInformation:"Haack et al., PLoS comp. bio. 2015"},E={id:1,modelId:12,name:"W12_1",type:"wet-lab data",information:{"Cell line":"hNPCs"}},T={id:2,modelId:12,name:"Wx_1",type:"wet-lab data",information:{"Cell line":"HEK293T"}},M={id:3,modelId:12,name:"Wx_2",type:"wet-lab data",information:{"Cell line":"Diverse cell lines (L, HIH3T3, N1E-115, nHPC, BHK, PTK2)"}},F={id:1,modelId:12,type:"model-building-activity",wetLabsUsedForCalibration:[E,M,T],wetLabsUsedForValidation:[],simulationsUsedForCalibration:[],simulationsUsedForValidation:[L],used:[]},R={id:1,modelId:12,type:"simulation data",name:"S12_1",wasGeneratedByModelBuildingActivity:F,wasGeneratedByModelExplorationActivity:null},A={id:1,modelId:12,type:"model",modelInformation:S,version:1,wasGeneratedBy:F,derivedFrom:null},P={id:4,modelId:12,name:"W12_2",type:"wet-lab data",information:{"Cell line":"hNPCs"}},B={id:5,modelId:12,name:"W12_3",type:"wet-lab data",information:{"Cell line":"Diverse cell lines (L, HIH3T3, N1E-115, nHPC, BHK, PTK2)"}},U={id:6,modelId:12,name:"Wx_3",type:"wet-lab data",information:{"Cell line":"hNPCs"}},G={id:2,modelId:12,type:"model-building-activity",wetLabsUsedForCalibration:[U],wetLabsUsedForValidation:[P,B],simulationsUsedForCalibration:[],simulationsUsedForValidation:[],used:[A]},q={id:2,modelId:12,type:"simulation data",name:"S12_2",wasGeneratedByModelBuildingActivity:G,wasGeneratedByModelExplorationActivity:null},D={id:2,modelId:12,type:"model",modelInformation:S,version:2,wasGeneratedBy:G,derivedFrom:null},W=[E,T,M,F,R,A,P,B,U,G,q,D,x,w,O,j,C,N,I,L],$={"Was generated by":{color:"blue",source:"entity",target:"activity"},"Derived from":{color:"blue",source:"entity",target:"entity"},Used:{color:"blue",source:"activity",target:"entity"},"Used for calibration":{color:"red",source:"activity",target:"entity"},"Used for validation":{color:"green",source:"activity",target:"entity"}},H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("card",{attrs:{title:"Node Information"},scopedSlots:t._u([{key:"footer",fn:function(){return[n("a",{staticClass:"card-footer-item"},[t._v("Edit")]),n("a",{staticClass:"card-footer-item"},[t._v("Delete")])]},proxy:!0}])},t._l(t.informationFields,function(e,o){var i=e[0],r=e[1];return n("div",{key:i},[n("div",{staticClass:"field-title"},[t._v(t._s(i))]),n("div",{staticClass:"field-text"},[t._v(t._s(r))]),o!==t.informationFields.length-1?n("div",{staticClass:"field-spacer"}):t._e()])}),0)},z=[],V=n("60a3"),K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"helper card flip-horizontal-bottom"},[t._t("header",[t.title?n("div",{staticClass:"card-header"},[n("p",{staticClass:"card-header-title"},[t._v("\n          "+t._s(t.title)+"\n        ")]),n("a",{staticClass:"card-header-icon"})]):t._e()]),n("div",{staticClass:"card-content"},[n("div",{staticClass:"content information"},[t._t("default")],2)]),n("footer",{staticClass:"card-footer"},[t._t("footer")],2)],2)])},X=[],J=o["default"].extend({props:{title:String,noCollapse:Boolean}}),Y=J,Q=(n("76f6"),Object(c["a"])(Y,K,X,!1,null,"2e996646",null)),Z=Q.exports,tt=function(t){function e(){return Object(y["a"])(this,e),Object(b["a"])(this,Object(m["a"])(e).apply(this,arguments))}return Object(g["a"])(e,t),e}(V["c"]);k["a"]([Object(V["b"])({type:Array,required:!0})],tt.prototype,"informationFields",void 0),tt=k["a"]([Object(V["a"])({components:{Card:Z}})],tt);var et=tt,nt=et,ot=(n("f946"),Object(c["a"])(nt,H,z,!1,null,"7e531464",null)),it=ot.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("card",{attrs:{title:"Prov DM Legend"}},[n("div",{staticClass:"legend"},[t._l(["entity","activity"],function(e){return n("div",{key:e,staticClass:"legend--item"},[n("d3",{attrs:{height:25,width:100}},[n("node",{staticClass:"legend--block",attrs:{rx:"entity"===e?t.nodeRadius:0,id:e,size:25,stroke:t.nodeOutline}})],1),n("div",{staticClass:"legend--text"},[t._v(t._s(t._f("uppercase")(e)))])],1)}),t._l(t.relationshipLegend,function(e){return n("div",{key:e.relationship,staticClass:"legend--item"},[n("d3",{attrs:{height:25,width:100,arrows:"","arrow-size":5}},[n("node",{staticClass:"legend--block",attrs:{rx:e.sourceRadius,id:"one",size:25,stroke:t.nodeOutline}}),n("relationship",{attrs:{source:"one",target:"two",color:e.color}}),n("node",{staticClass:"legend--block",attrs:{rx:e.targetRadius,id:"two",size:25,x:75,stroke:t.nodeOutline}})],1),n("div",{staticClass:"legend--text"},[t._v(t._s(e.relationship))])],1)})],2)])},at=[],lt=(n("c5f6"),n("cebc")),ct=(n("ffc1"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{ref:"svg",staticClass:"svg",attrs:{height:t.height,width:t.width}},[t._t("default")],2)}),st=[],dt=n("75fc"),ut=(n("6c7b"),n("04ff"),n("5698")),ft=n("7618");n("5df3"),n("f400");function ht(t){return function(){return t}}function pt(){return 1e-6*(Math.random()-.5)}function yt(t){return t.index}function vt(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var bt=function(t){var e,n,o,i,r,a=yt,l=d,c=ht(30),s=1;function d(t){return 1/Math.min(i[t.source.index],i[t.target.index])}function u(o){for(var i=0,a=t.length;i<s;++i)for(var l,c,d,u,f,h,p,y=0;y<a;++y)l=t[y],c=l.source,d=l.target,u=d.x+d.width+d.vx-c.x-c.vx||pt(),f=d.y+d.vy-c.y-c.vy||pt(),h=Math.sqrt(u*u+f*f),h=(h-n[y])/h*o*e[y],u*=h,f*=h,d.vx-=u*(p=r[y]),d.vy-=f*p,c.vx+=u*(p=1-p),c.vy+=f*p}function f(){if(o){var l,c,s=o.length,d=t.length,u=new Map(o.map(function(t,e){return[a(t,e,o),t]}));for(l=0,i=new Array(s);l<d;++l)c=t[l],c.index=l,"object"!==Object(ft["a"])(c.source)&&(c.source=vt(u,c.source)),"object"!==Object(ft["a"])(c.target)&&(c.target=vt(u,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(l=0,r=new Array(d);l<d;++l)c=t[l],r[l]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);e=new Array(d),h(),n=new Array(d),p()}}function h(){if(o)for(var n=0,i=t.length;n<i;++n)e[n]=+l(t[n],n,t)}function p(){if(o)for(var e=0,i=t.length;e<i;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),u.initialize=function(t){o=t,f()},u.links=function(e){return arguments.length?(t=e,f(),u):t},u.id=function(t){return arguments.length?(a=t,u):a},u.iterations=function(t){return arguments.length?(s=+t,u):s},u.strength=function(t){return arguments.length?(l="function"===typeof t?t:ht(+t),h(),u):l},u.distance=function(t){return arguments.length?(c="function"===typeof t?t:ht(+t),p(),u):c},u},mt=n("80ef");function gt(t){return t.x}function kt(t){return t.y}function xt(t){return function(){return t}}function wt(){return 1e-6*(Math.random()-.5)}var Ot=function(){var t,e,n,o,i=xt(-30),r=1,a=1/0,l=.81;function c(o){var i,r=t.length,a=Object(mt["a"])(t,gt,kt).visitAfter(d);for(n=o,i=0;i<r;++i)e=t[i],a.visit(u)}function s(){if(t){var e,n,r=t.length;for(o=new Array(r),e=0;e<r;++e)n=t[e],o[n.index]=+i(n,e,t)}}function d(t){var e,n,i,r,a,l=0,c=0;if(t.length){for(i=r=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(l+=e.value,c+=n,i+=n*e.x,r+=n*e.y);t.x=i/c,t.y=r/c}else{e=t,e.x=e.data.x,e.y=e.data.y;do{l+=o[e.data.index]}while(e=e.next)}t.value=l}function u(t,i,c,s){if(!t.value)return!0;var d=t.x-e.x-e.width/2,u=t.y-e.y-e.height/2,f=s-i,h=d*d+u*u;if(f*f/l<h)return h<a&&(0===d&&(d=wt(),h+=d*d),0===u&&(u=wt(),h+=u*u),h<r&&(h=Math.sqrt(r*h)),e.vx+=d*t.value*n/h,e.vy+=u*t.value*n/h),!0;if(!(t.length||h>=a)){(t.data!==e||t.next)&&(0===d&&(d=wt(),h+=d*d),0===u&&(u=wt(),h+=u*u),h<r&&(h=Math.sqrt(r*h)));do{t.data!==e&&(f=o[t.data.index]*n/h,e.vx+=d*f,e.vy+=u*f)}while(t=t.next)}}return c.initialize=function(e){t=e,s()},c.strength=function(t){return arguments.length?(i="function"===typeof t?t:xt(+t),s(),c):i},c.distanceMin=function(t){return arguments.length?(r=t*t,c):Math.sqrt(r)},c.distanceMax=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.theta=function(t){return arguments.length?(l=t*t,c):Math.sqrt(l)},c},jt=(n("7f7f"),n("ac4d"),n("8a81"),function(t){var e={},n=!0,o=!1,i=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var l=r.value;e[l.id]=l}}catch(c){o=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return e});function Ct(t,e){return Object(V["d"])(t,e)}function _t(t){switch(t.type){case"wet-lab data":return t.name;case"model-building-activity":return"MBA";case"simulation data":return t.name;case"model exploration activity":return"MEA";case"model":if(t.version<1)throw Error("Bad model version number: ".concat(t.version,". Expected value >= 1"));var e="M".concat(t.modelInformation.modelNumber);return 1===t.version||(2===t.version?e+="'":e+="v".concat(t.version)),e+" (".concat(t.modelInformation.bibInformation,")")}}var Nt=function(t){return null!==t};function It(t){var e=[];switch(t.type){case"wet-lab data":break;case"model-building-activity":e=[[t.wetLabsUsedForValidation,"Used for validation"],[t.wetLabsUsedForCalibration,"Used for calibration"],[t.simulationsUsedForValidation,"Used for validation"],[t.simulationsUsedForCalibration,"Used for calibration"],[t.used,"Used"]];break;case"simulation data":e=[[t.wasGeneratedByModelBuildingActivity,"Was generated by"],[t.wasGeneratedByModelExplorationActivity,"Was generated by"]];break;case"model exploration activity":e=[[t.used,"Used"]];break;case"model":e=[[t.wasGeneratedBy,"Used"],[t.derivedFrom,"Derived from"]]}return e.map(function(t){var e=Object(p["a"])(t,2),n=e[0],o=e[1];return null===n?null:(Array.isArray(n)||(n=[n]),[n,o])}).filter(Nt)}var Lt=ut["h"](ut["i"]),St=0,Et=function(t){function e(){var t;return Object(y["a"])(this,e),t=Object(b["a"])(this,Object(m["a"])(e).apply(this,arguments)),t.isD3=!0,t.addedLinks=[],t.addedNodes=[],t.curve=ut["f"]().curve(ut["a"].tension(.85)),t}return Object(g["a"])(e,t),Object(v["a"])(e,[{key:"fill",value:function(t){return Lt(""+t.group)}},{key:"addLink",value:function(t){this.allLinks.push(Object(lt["a"])({},t,{color:t.color?t.color:this.defaultStrokeColor}))}},{key:"addNode",value:function(t){this.allNodes.push(t)}},{key:"calcWidth",value:function(t){return 10+(void 0===t?0:8*t.length)}},{key:"convexHulls",value:function(){var t={},e=this.hullOffset;this.allNodes.forEach(function(n){if(void 0!==n.hullGroup){var o=n.hullGroup,i=t[o]||(t[o]={points:[],nodes:[]});i.nodes.push(n),i.points.push([n.x-e,n.y-e]),i.points.push([n.x+n.width+e,n.y-e]),i.points.push([n.x+n.width+e,n.y+n.height+e]),i.points.push([n.x-e,n.y+n.height+e])}});for(var n=[],o=0,i=Object.keys(t);o<i.length;o++){var r=i[o],a=ut["g"](t[r].points);a&&n.push({group:Number.parseInt(r,10),nodes:t[r].nodes,path:a})}return n}},{key:"doRender",value:function(){var t=this,e=ut["j"](this.$refs.svg);e.selectAll("*").remove();var n=function(e){return function(n){e&&e(n,t)}},o=null;this.hulls&&(o=e.append("g").attr("class","hulls").selectAll("path").data(this.convexHulls()).enter().append("path").attr("class","hull").attr("d",function(e){return t.curve(e.path)}).style("fill",this.fill).style("opacity",.5),o.on("click",n(this.hullClick)),o.on("dblclick",n(this.hullDblclick)));var i=null;this.force&&(i=ut["e"](this.allNodes).force("link",bt(this.allLinks).id(function(t){return t.id}).strength(.3)).velocityDecay(.5).force("charge",Ot().strength(-1e3)).force("center",ut["d"](this.width/2,this.height/2)));var r=this.allLinks.map(function(t){var e=t.color;return e});this.arrows&&e.append("svg:defs").selectAll("marker").data(r).enter().append("svg:marker").attr("id",function(t){return"".concat(St,"-").concat(t)}).attr("viewBox","0 -5 10 10").attr("refX",10).attr("refY",0).attr("markerWidth",this.arrowSize).attr("markerHeight",this.arrowSize).attr("orient","auto").append("svg:path").style("fill",function(t){return t}).attr("d","M0,-5L10,0L0,5");var a=e.append("g").attr("stroke-opacity",.6).selectAll("line").data(this.allLinks).join("line").attr("stroke-width",function(t){return 3}).attr("stroke",function(t){return t.color});if(!i){var l=function(e,n){return function(o){var i=t.nodeLookup[o[n]],r="y"===e?i.height/2:"source"===n?i.width:0;return i[e]+r}};a.attr("x1",l("x","source")).attr("y1",l("y","source")).attr("x2",l("x","target")).attr("y2",l("y","target"))}this.arrows&&a.attr("marker-end",function(t){return"url(#".concat(St,"-").concat(t.color,")")});var c=e.append("g").attr("stroke","#fff").selectAll(".node").data(this.allNodes).join("g").attr("class","node");if(c.append("rect").attr("width",function(t){return t.width}).attr("height",function(t){return t.height}).attr("fill",function(t){return"white"}).style("stroke-width",3).attr("rx",function(t){return t.rx}).attr("x",function(e){return t.force?0:e.x}).attr("y",function(e){return t.force?0:e.y}).style("stroke",function(t){return t.stroke}),c.on("click",n(this.nodeClick)),c.on("dblclick",n(this.nodeDblclick)),this.force){var s=function(t){i&&!ut["c"].active&&i.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y},d=function(t){t.fx=ut["c"].x,t.fy=ut["c"].y},u=function(t){i&&!ut["c"].active&&i.alphaTarget(0),t.fx=null,t.fy=null};c.call(ut["b"]().on("start",s).on("drag",d).on("end",u))}c.append("text").filter(function(t){return void 0!==t.text}).attr("x",function(t){return 4*t.text.length+5}).attr("y",function(t){return t.height/2+5}).style("stroke-width",0).style("font-family","monospace").style("pointer-events","none").style("text-anchor","middle").style("font-size","12px").text(function(t){return t.text}),c.append("text").filter(function(t){return void 0!==t.actionText}).attr("x",function(t){return 3*t.actionText.length-2}).attr("y",function(t){return t.height+12}).style("stroke-width",0).style("font-family","monospace").style("text-anchor","middle").attr("class","action").style("font-size","10px").text(function(t){return t.actionText}).on("click",n(this.actionClick)),i&&i.on("tick",function(){o&&!o.empty()&&o.data(t.convexHulls()).attr("d",function(e){return t.curve(e.path)}),a.attr("x1",function(t){var e=t.source;return e.x}).attr("y1",function(t){var e=t.source;return e.y+e.height/2}).attr("x2",function(e){var n=e.target;return n.x+t.calcWidth(n.text)}).attr("y2",function(t){var e=t.target;return e.y+e.height/2}),c.attr("transform",function(t){return"translate(".concat(t.x,", ").concat(t.y,")")})}),St++}},{key:"mounted",value:function(){this.doRender()}},{key:"reRenderNodes",value:function(){this.doRender()}},{key:"reRenderLinks",value:function(){this.doRender()}},{key:"allNodes",get:function(){return[].concat(Object(dt["a"])(this.addedNodes),Object(dt["a"])(this.nodes))}},{key:"allLinks",get:function(){var t=this,e=[].concat(Object(dt["a"])(this.links),Object(dt["a"])(this.addedLinks));return e.map(function(e){return Object(lt["a"])({},e,{color:e.color?e.color:t.defaultStrokeColor})})}},{key:"nodeLookup",get:function(){return jt(this.allNodes)}}]),e}(V["c"]);k["a"]([Object(V["b"])({type:String,default:"#000"})],Et.prototype,"defaultStrokeColor",void 0),k["a"]([Object(V["b"])({type:Boolean,default:!1})],Et.prototype,"arrows",void 0),k["a"]([Object(V["b"])({type:Boolean,default:!1})],Et.prototype,"force",void 0),k["a"]([Object(V["b"])({type:Boolean,default:!1})],Et.prototype,"hulls",void 0),k["a"]([Object(V["b"])({type:Number,default:100})],Et.prototype,"height",void 0),k["a"]([Object(V["b"])({type:Number,default:100})],Et.prototype,"width",void 0),k["a"]([Object(V["b"])({type:Number,default:6})],Et.prototype,"arrowSize",void 0),k["a"]([Object(V["b"])({type:Number,default:40})],Et.prototype,"hullOffset",void 0),k["a"]([Object(V["b"])({type:Array,default:function(){return[]}})],Et.prototype,"nodes",void 0),k["a"]([Object(V["b"])({type:Array,default:function(){return[]}})],Et.prototype,"links",void 0),k["a"]([Object(V["b"])({type:Function,required:!1})],Et.prototype,"hullClick",void 0),k["a"]([Object(V["b"])({type:Function,required:!1})],Et.prototype,"hullDblclick",void 0),k["a"]([Object(V["b"])({type:Function,required:!1})],Et.prototype,"nodeClick",void 0),k["a"]([Object(V["b"])({type:Function,required:!1})],Et.prototype,"nodeDblclick",void 0),k["a"]([Object(V["b"])({type:Function,required:!1})],Et.prototype,"actionClick",void 0),k["a"]([Ct("nodes")],Et.prototype,"reRenderNodes",null),k["a"]([Ct("links")],Et.prototype,"reRenderLinks",null),Et=k["a"]([V["a"]],Et);var Tt=Et,Mt=Tt,Ft=(n("8796"),Object(c["a"])(Mt,ct,st,!1,null,"a946b58c",null)),Rt=Ft.exports,At=n("faa1"),Pt=(new At["EventEmitter"],function(t){return!0===t.isD3}),Bt=function(t){function e(){return Object(y["a"])(this,e),Object(b["a"])(this,Object(m["a"])(e).apply(this,arguments))}return Object(g["a"])(e,t),Object(v["a"])(e,[{key:"mounted",value:function(){if(!Pt(this.$parent))throw Error("parent must be D3");this.$parent.addLink({target:this.target,source:this.source,color:this.color})}},{key:"render",value:function(){return null}}]),e}(V["c"]);k["a"]([Object(V["b"])({type:String,required:!0})],Bt.prototype,"target",void 0),k["a"]([Object(V["b"])({type:String,required:!0})],Bt.prototype,"source",void 0),k["a"]([Object(V["b"])({type:String,required:!1})],Bt.prototype,"color",void 0),Bt=k["a"]([V["a"]],Bt);var Ut,Gt,qt=Bt,Dt=qt,Wt=Object(c["a"])(Dt,Ut,Gt,!1,null,"ebce97d6",null),$t=Wt.exports,Ht=function(t){function e(){return Object(y["a"])(this,e),Object(b["a"])(this,Object(m["a"])(e).apply(this,arguments))}return Object(g["a"])(e,t),Object(v["a"])(e,[{key:"mounted",value:function(){if(!Pt(this.$parent))throw Error("parent must be D3");this.$parent.addNode({id:this.id,rx:this.rx,x:this.x,y:this.y,height:this.size,width:this.size,stroke:this.stroke})}},{key:"render",value:function(){return null}}]),e}(V["c"]);k["a"]([Object(V["b"])({type:String,required:!0})],Ht.prototype,"id",void 0),k["a"]([Object(V["b"])({type:Number,required:!0})],Ht.prototype,"rx",void 0),k["a"]([Object(V["b"])({type:Number,default:0})],Ht.prototype,"x",void 0),k["a"]([Object(V["b"])({type:Number,default:0})],Ht.prototype,"y",void 0),k["a"]([Object(V["b"])({type:Number,required:!0})],Ht.prototype,"size",void 0),k["a"]([Object(V["b"])({type:String,required:!0})],Ht.prototype,"stroke",void 0),Ht=k["a"]([V["a"]],Ht);var zt,Vt,Kt=Ht,Xt=Kt,Jt=(n("bf7e"),Object(c["a"])(Xt,zt,Vt,!1,null,"0068f9f4",null)),Yt=Jt.exports,Qt=function(t){function e(){return Object(y["a"])(this,e),Object(b["a"])(this,Object(m["a"])(e).apply(this,arguments))}return Object(g["a"])(e,t),Object(v["a"])(e,[{key:"relationshipLegend",get:function(){var t=this;return Object.entries($).map(function(e){var n=Object(p["a"])(e,2),o=n[0],i=n[1];return Object(lt["a"])({},i,{sourceRadius:"entity"===i.source?t.nodeRadius:0,targetRadius:"entity"===i.target?t.nodeRadius:0,relationship:o})})}}]),e}(V["c"]);k["a"]([Object(V["b"])({type:Number,required:!0})],Qt.prototype,"nodeRadius",void 0),k["a"]([Object(V["b"])({type:String,required:!0})],Qt.prototype,"nodeOutline",void 0),Qt=k["a"]([Object(V["a"])({components:{Node:Yt,Card:Z,Relationship:$t,D3:Rt},filters:{uppercase:function(t){return t.charAt(0).toUpperCase()+t.substring(1)}}})],Qt);var Zt=Qt,te=Zt,ee=(n("36e4"),Object(c["a"])(te,rt,at,!1,null,"4cbe4bc6",null)),ne=ee.exports,oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("card",{scopedSlots:t._u([{key:"header",fn:function(){return[n("b-field",{staticStyle:{margin:"1.5rem"}},[n("b-input",{attrs:{placeholder:"Search...",type:"search",icon:"magnify",expanded:""},on:{input:t.checkEmpty},nativeOn:{keydown:function(e){return t.checkEnter(e)}},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),n("p",{staticClass:"control"},[n("button",{staticClass:"button is-primary",on:{click:t.search}},[t._v("\n          Search\n        ")])])],1)]},proxy:!0}])},[n("div",{staticClass:"results"},t._l(t.results,function(e,o){return n("div",{key:o},[n("div",{staticStyle:{display:"flex"}},[n("div",[n("h4",{staticClass:"result--title"},[t._v(t._s(e.title))]),n("h6",{staticClass:"result--type"},[t._v("Model "+t._s(e.model))]),n("p",{staticClass:"result--extra"},[t._v(t._s(t._f("format")(e.information)))]),o!==t.results.length-1?n("hr",{staticClass:"result--break"}):t._e()]),n("div",{staticStyle:{flex:"1"}}),n("div",{staticStyle:{display:"flex"}},[n("b-button",{attrs:{type:"is-text","icon-right":"call-split"},on:{click:function(n){return t.$emit("dependency",e)}}}),n("b-button",{attrs:{type:"is-text","icon-right":"launch"},on:{click:function(n){return t.$emit("open",e)}}})],1)])])}),0)])},ie=[],re=(n("386d"),function(t){function e(){var t;return Object(y["a"])(this,e),t=Object(b["a"])(this,Object(m["a"])(e).apply(this,arguments)),t.searchText="",t}return Object(g["a"])(e,t),Object(v["a"])(e,[{key:"checkEnter",value:function(t){13===t.which&&this.search()}},{key:"checkEmpty",value:function(){""===this.searchText&&this.$emit("clear")}},{key:"search",value:function(){var t=this.$loading.open({container:this.$el});setTimeout(function(){return t.close()},500),this.$emit("search",this.searchText)}}]),e}(V["c"]));k["a"]([Object(V["b"])({type:Array,required:!0})],re.prototype,"results",void 0),re=k["a"]([Object(V["a"])({components:{Card:Z},filters:{format:function(t){return t.join(" â€¢ ")}}})],re);var ae=re,le=ae,ce=(n("e3bc"),Object(c["a"])(le,oe,ie,!1,null,"04160db9",null)),se=ce.exports,de=n("ffe7"),ue=n.n(de),fe={keys:["information","title"]},he=function(t,e){var n=new ue.a(t,fe);return n.search(e)},pe=function(t){function e(){var t;return Object(y["a"])(this,e),t=Object(b["a"])(this,Object(m["a"])(e).apply(this,arguments)),t.height=window.innerHeight-7,t.width=window.innerWidth,t.nodeHeight=40,t.selectedNode=null,t.nodeOutline="rgb(22, 89, 136)",t.expanded={},t.nodeRadius=10,t.nodes=[],t.links=[],t.results=[],t.nodesToShow={},t.pointToPlaceNode={x:0,y:0},t}return Object(g["a"])(e,t),Object(v["a"])(e,[{key:"showProvenanceGraph",value:function(t){var e=this,n=function t(n){e.nodesToShow[n]=!0;var o=e.dependencyInfoLookup[n];e.expanded[o.node.modelId]=!0,o.outgoing.forEach(function(e){t(e.target.id)})};n(t.id),this.doRender()}},{key:"clearNodes",value:function(){this.nodesToShow={},this.doRender()}},{key:"openResult",value:function(t){var e=this;this.dependencyInfo.forEach(function(n){var o=n.node,i=n.id;o.modelId===t.model&&(e.nodesToShow[i]=!0)}),this.doRender()}},{key:"removeResults",value:function(){this.results=[]}},{key:"search",value:function(t){var e=W.map(function(t){var e="wet-lab data"===t.type&&t.information?Object.values(t.information):[];return{id:t.type+t.id,title:_t(t),type:t.type,model:t.modelId,information:e}});this.results=he(e,t)}},{key:"nodeDblclick",value:function(t){if(t.isGroup){this.expanded[t.model]=!0,this.pointToPlaceNode=t;var e=this.getNodesLinks();this.nodes=e.nodes,this.links=e.links}}},{key:"nodeClick",value:function(t){t.isGroup||(null===this.selectedNode?this.selectedNode=t:this.selectedNode===t?this.selectedNode=null:this.selectedNode=t)}},{key:"actionClick",value:function(t){var e=this,n=function t(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"incoming",i="outgoing"===o?"target":"source";e.dependencyInfoLookup[n][o].forEach(function(n){e.expanded[n[i].node.modelId]=!0,e.nodesToShow[n[i].id]=!0,t(n[i].id,"outgoing")})};n(t.id),this.pointToPlaceNode=t,this.doRender()}},{key:"hullDblclick",value:function(t){this.expanded[t.group]=!1;var e={x:0,y:0};t.nodes.forEach(function(t){e.x+=t.x,e.y+=t.y}),e.x/=t.nodes.length,e.y/=t.nodes.length,this.pointToPlaceNode=e,this.doRender()}},{key:"calcWidth",value:function(t){return 8*t.length+10}},{key:"getNodesLinks",value:function(){var t=this,e=[],n=[],o={};return W.forEach(function(i){var r=i.type+i.id;if(t.nodesToShow[r]){if(!t.expanded[i.modelId]&&!o.hasOwnProperty(i.modelId)){var a=""+i.modelId,l=t.d3NodeLookup[a]?t.d3NodeLookup[a]:t.pointToPlaceNode,c=l.x,s=l.y,d={isGroup:!0,model:i.modelId,id:a,x:c,y:s,stroke:"rgb(0, 0, 0)",rx:0,text:"M".concat(i.modelId),width:50,height:t.nodeHeight};o[i.modelId]=d,n.push(d)}var u=t.dependencyInfoLookup[r];if(u.outgoing.forEach(function(n){var o=n.target.id;if(t.nodesToShow[o]){var i=function(e,n){return t.expanded[n]?e:""+n},a=i(r,n.source.node.modelId),l=i(o,n.target.node.modelId);l!==a&&e.push({source:a,target:l,color:n.color})}}),console.debug(e.map(function(t){return"".concat(t.source," => ").concat(t.target,": ").concat(t.color)}).join("\n")),t.expanded[i.modelId]){var f=t.dependencyInfoLookup[r].incoming.some(function(e){return!t.nodesToShow[e.source.id]}),h=_t(i),p=t.d3NodeLookup[r]?t.d3NodeLookup[r]:t.pointToPlaceNode,y=p.x,v=p.y,b="wet-lab data"===i.type||"simulation data"===i.type;n.push({isGroup:!1,isEntity:b,id:r,text:h,actionText:f?"See more":void 0,type:i.type,model:i.modelId,hullGroup:i.modelId,stroke:t.nodeOutline,x:y,y:v,rx:b?10:0,width:t.calcWidth(h),height:t.nodeHeight})}}}),this.pointToPlaceNode={x:0,y:0},{links:e,nodes:n,groups:o}}},{key:"mounted",value:function(){this.doRender()}},{key:"doRender",value:function(){var t=this.getNodesLinks(),e=t.links,n=t.nodes;this.links=e,this.nodes=n}},{key:"nodeLookup",get:function(){var t={};return W.forEach(function(e){t[e.type+e.id]=e}),t}},{key:"d3NodeLookup",get:function(){return jt(this.nodes)}},{key:"informationFields",get:function(){if(this.selectedNode){var t=[["Title",this.selectedNode.text]],e=this.nodeLookup[this.selectedNode.id];if(!e)throw Error("Unable to find node with ID: ".concat(this.selectedNode.id,". This should not happen."));switch(e.type){case"model-building-activity":break;case"model exploration activity":break;case"model":t.push(["Source",e.modelInformation.bibInformation]),t.push(["Model Number",""+e.modelInformation.modelNumber]),t.push(["Version",""+e.version]);break;case"wet-lab data":var n=e.information?e.information:{};Object.keys(n).forEach(function(e){t.push([e,n[e]])});break;case"simulation data":break}return t}}},{key:"transformedNodes",get:function(){return W.map(function(t){return{id:t.type+t.id,original:t}})}},{key:"dependencyInfo",get:function(){var t={};this.transformedNodes.map(function(e){var n=e.id,o=e.original,i=function(e,n){t.hasOwnProperty(e)||(t[e]={id:e,node:n,incoming:[],outgoing:[]})};i(n,o);var r=t[n];It(o).forEach(function(e){var n=Object(p["a"])(e,2),o=n[0],a=n[1];return o.map(function(e){var n=e.type+e.id;i(n,e);var o=t[n],l={color:$[a].color,source:r,target:o};r.outgoing.push(l),o.incoming.push(l)})})});return Object.values(t)}},{key:"dependencyInfoLookup",get:function(){return jt(this.dependencyInfo)}}]),e}(V["c"]);pe=k["a"]([Object(V["a"])({components:{InformationCard:it,ProvLegend:ne,D3:Rt,Search:se}})],pe);var ye=pe,ve=ye,be=(n("ac20"),Object(c["a"])(ve,f,h,!1,null,"40ca55e8",null)),me=be.exports;o["default"].use(u["a"]);var ge=new u["a"]({mode:"history",base:"/WebProv/",routes:[{path:"/",name:"home",component:me}]}),ke=n("2f62");o["default"].use(ke["a"]);var xe=new ke["a"].Store({state:{},mutations:{},actions:{}}),we=n("8a03"),Oe=n.n(we);n("5abe");o["default"].config.productionTip=!1,o["default"].use(Oe.a),new o["default"]({router:ge,store:xe,render:function(t){return t(d)}}).$mount("#app")},e1a0:function(t,e,n){},e3bc:function(t,e,n){"use strict";var o=n("7a62"),i=n.n(o);i.a},f946:function(t,e,n){"use strict";var o=n("4ca6"),i=n.n(o);i.a}});
//# sourceMappingURL=app.649f31b7.js.map